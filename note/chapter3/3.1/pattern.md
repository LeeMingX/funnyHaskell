# 函数的语法

## 模式匹配

`模式匹配（pattern matching）`通过检查数据的特定结构来检查是否匹配，并按模式从中解析出数据

在Haskell中定义函数时，可以为不同的模式分别定义函数体，这让函数更加简洁、易读，可以匹配一切数据类型

调用函数时，会将传入的参数按从上到下的顺序，检查各个模式，一旦有匹配，对应的函数就会被应用

如果我们在模式中给出一个小写字母的名字，而非具体的值，那这就是一个`万能模式（catchall pattern）`

> 在定义模式时，一定要留一个万能模式

---

### 元组的模式匹配

```haskell
addVector :: (Double, Double) -> (Double, Double) -> (Double, Double)
addVector (x1, y1) (x2, y2) = (x1 + x2, y1 + y2)
```

---

### 列表与列表推导式的模式匹配

列表推导式应用模式匹配，如果匹配失败，他就挪到下一个元素，匹配失败的元素不会包含在列表推倒式的结果中

可以用`[]`来匹配空列表，可以配合`:`和`[]`来匹配非空列表

> 若要绑定多个变量（即使是`_`），必须用括号将其括起

`error`函数可以生成一个运行时错误，用参数中的字符串表示对错误的描述，它会直接导致程序崩溃

> 不能在模式匹配中使用`++`

---

### As模式

`as模式`是一种特殊模式，它允许我们按模式把一个值分隔成多个项，同时仍保留对其整体的引用，要使用`as模式`，只要将一个名字和@置于普通模式的前面即可

`xs@(x:y:ys)`这个as模式，它能够匹配出的内容和`x:y:ys`一致，也可以通过`xs`来访问整个列表，而不必在函数体中重复使用`x:y:ys`将列表构造一遍